server {
    listen 	8085;
    server_name localhost;

    # Options for test, need to remove later!!!

    add_header 'Access-Control-Allow-Origin' '*';

    # Auth api


    # Filesharing api

    location /uploadFiles {
        proxy_pass http://localhost:7000;
    }
    
    location /getAllFiles {
        proxy_pass http://localhost:7010;
    }

    location /getFileById {
        proxy_pass http://localhost:7011;
    }
    
    location /updateFile {
        proxy_pass http://localhost:7020;
    }

    # Chat api

    # chat_ws       tcp:7130

    location /openChatWs {
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";

        proxy_pass http://localhost:7130;
    }

    # chat_create_chat   tcp:7100
    # chat_get_chats     tcp:7110
    # chat_update_chat   tcp:7120

    location /createChat {
        proxy_pass http://localhost:7100;
    }

    location /getChats {
        proxy_pass http://localhost:7110;
    }

    location /updateChat {
        proxy_pass http://localhost:7120;
    }

    # chat_add_message  tcp:7105
    # chat_get_messages tcp:7115

    location /addMessage {
        proxy_pass http://localhost:7105;
    }

    location /getMessages {
        proxy_pass http://localhost:7115;
    }

    # Course api

    # course_page_create_course_meta         tcp:7200
    # course_page_get_all_short_cards        tcp:7210
    # course_page_get_full_card_by_id        tcp:7211
    # course_page_get_full_course_meta_by_id tcp:7212
    # course_page_update_full_course_meta    tcp:7220
    # course_page_update_course_meta    tcp:7221
    # course_page_update_course_short_card   tcp:7222
    # course_page_update_course_full_card    tcp:7223

    location /createCourseMeta {
        proxy_pass http://localhost:7200;
    }

    location /getAllShortCourseCards {
        proxy_pass http://localhost:7210;
    }

    location /getFullCourseCardById {
        proxy_pass http://localhost:7211;
    }

    location /getFullCourseMetaById {
        proxy_pass http://localhost:7212;
    }

    location /updateFullCourseMeta {
        proxy_pass http://localhost:7220;
    }

    location /updateCourseMeta {
        proxy_pass http://localhost:7221;
    }

    location /updateCourseShortCard {
        proxy_pass http://localhost:7222;
    }

    location /updateCourseFullCard {
        proxy_pass http://localhost:7223;
    }

    # course_create_course    tcp:7300
    # course_get_all_courses  tcp:7310
    # course_get_course_by_id tcp:7311
    # course_update_course    tcp:7320

    location /createCourse {
        proxy_pass http://localhost:7300;
    }

    location /getAllCourses {
        proxy_pass http://localhost:7310;
    }

    location /getCourseById {
        proxy_pass http://localhost:7311;
    }

    location /updateCourse {
        proxy_pass http://localhost:7320;
    }

    # course_user_create_course_user  tcp:7400
    # course_user_get_all_course_user tcp:7410
    # course_user_update_course_user  tcp:7420

    location /createCourseUser {
        proxy_pass http://localhost:7400;
    }

    location /getAllCourseUser {
        proxy_pass http://localhost:7410;
    }

    location /updateCourseUser {
        proxy_pass http://localhost:7420;
    }

    # Test api

    # test_create_test    tcp:7500
    # test_get_all_tests  tcp:7510
    # test_get_test_by_id tcp:7511
    # test_update_test    tcp:7520

    location /createTest {
        proxy_pass http://localhost:7500;
    }

    location /getAllTests {
        proxy_pass http://localhost:7510;
    }

    location /getTestById {
        proxy_pass http://localhost:7511;
    }

    location /updateTest {
        proxy_pass http://localhost:7520;
    }

    # test_user_create_test_user  tcp:7600
    # test_user_get_all_test_user tcp:7610
    # test_user_update_test_user  tcp:7620

    location /createTestUser {
        proxy_pass http://localhost:7600;
    }

    location /getAllTestUser {
        proxy_pass http://localhost:7610;
    }

    location /updateTestUser {
        proxy_pass http://localhost:7620;
    }

}